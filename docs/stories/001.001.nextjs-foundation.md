# Story 1.1: Nextjs Foundation

## Status
Ready for Review

## Story
**As a** full-stack developer,  
**I want** to scaffold the Running Unicorns site on Next.js with Vercel-ready architecture,  
**so that** the team can deliver the podcast/community experience without Replit dependencies.

## Acceptance Criteria
1. Next.js 15 App Router project is initialized with TypeScript, Tailwind, shadcn/ui, and Framer Motion, and runs locally via `pnpm dev`.
2. Project structure matches the documented source tree, including placeholder data modules and API route handlers.
3. Replit-specific files/configs are removed; hosting instructions reference Vercel.
4. Placeholder RSS, merch, and events data power the UI via Next.js routes without runtime errors.
5. Documentation (`README`, `/docs`) reflects the new architecture, tech stack, and deployment workflow.
6. Automated checks (`pnpm lint`, `pnpm test`) and initial Vitest/Playwright scaffolding are in place.

## Tasks / Subtasks
- [x] Scaffold Next.js App Router project with pnpm and strict TypeScript config (AC1).
  - [x] Configure Tailwind, shadcn/ui registry, and Framer Motion; port gradient brand tokens (AC1).
- [x] Migrate reusable UI components from legacy reference into `app/(marketing)/components` with SSR/client boundaries (AC2, AC4).
- [x] Implement marketing routes (home, podcasts, merch, events, booking) with placeholder content wired to mock data modules (AC2, AC4).
- [x] Create placeholder data modules under `lib/rss`, `lib/merch`, `lib/events` and expose them via `/app/api/*` route handlers (AC2, AC4).
- [x] Remove any Replit-specific scripts/docs; set up Vercel deployment config and document env vars (AC3, AC5).
- [x] Stub cron-ready server action or route for RSS ingestion scheduling notes (AC2).
- [x] Establish testing scaffolding: Vitest + React Testing Library + Playwright smoke suite and add to `package.json` scripts (AC6).
- [x] Update README plus `/docs` references to describe setup, scripts, deployment, and remaining placeholders (AC5).
- [x] Verify lint/test scripts run cleanly; capture notes in Dev Agent Record once complete (AC6).

## Dev Notes
- **Architecture References**: Follow `docs/architecture/tech-stack.md`, `coding-standards.md`, and `source-tree.md`.
- **Data Placeholders**: Implement mock data according to PRD feature outlines (`docs/prd/running-unicorns-prd.md`). Ensure interfaces resemble future integrations (RSS, Shopify/Printful, Google Calendar).
- **Hosting**: Target Vercel. Prepare `vercel.json` or Next config settings as needed; no Replit files/scripts should remain.
- **Component Guidance**: Maintain gradient palette (#3b76f9, #68e2ab, #f069b7, #f86634, #a761f2) and typography (Erbaum, Poppins). Respect reduced-motion preferences in Framer Motion animations.
- **Cron Strategy**: Document approach for RSS ingestion via Vercel Scheduled Functions (e.g., hitting `/api/cron/rss-sync`).
- **Env Handling**: Define `.env.example` with placeholders for future RSS URL, SHOPIFY_STORE_DOMAIN, PRINTFUL_TOKEN, CALENDLY_EMBED_URL, CONVERTKIT_FORM_ID.

### Testing
- Unit tests with Vitest + React Testing Library for hero/episode components.
- Route handler tests verifying placeholder APIs return expected payload shapes.
- Playwright smoke test hitting homepage, podcasts, and events routes to validate rendering.
- All tests wired into `pnpm test` (unit) and `pnpm test:e2e` (Playwright); CI should run lint, unit, and e2e.

## Change Log
| Date       | Version | Description                                      | Author        |
|------------|---------|--------------------------------------------------|---------------|
| 2025-03-10 | 0.1.0   | Initial story draft for Next.js foundation work | Winston (arch) |

## Dev Agent Record
### Agent Model Used
Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)

### Debug Log References
None - no blocking issues encountered

### Completion Notes List
- Successfully migrated from Tailwind v3 to v4 with @tailwindcss/postcss plugin
- Configured ESLint v9 with flat config format
- All marketing routes (/, /podcasts, /merch, /events, /booking) render correctly
- Build completes successfully with no errors
- Tests pass (pnpm test)
- Lint passes (pnpm lint)

### File List
- package.json
- tsconfig.json
- next.config.ts
- tailwind.config.ts
- postcss.config.mjs
- eslint.config.mjs
- vitest.config.ts
- playwright.config.ts
- vercel.json
- .env.example
- .gitignore
- README.md
- app/layout.tsx
- app/page.tsx
- app/globals.css
- app/(marketing)/layout.tsx
- app/(marketing)/page.tsx
- app/(marketing)/podcasts/page.tsx
- app/(marketing)/merch/page.tsx
- app/(marketing)/events/page.tsx
- app/(marketing)/booking/page.tsx
- app/(marketing)/components/Header.tsx
- app/(marketing)/components/Footer.tsx
- app/(marketing)/components/HeroSection.tsx
- app/(marketing)/components/EpisodeCard.tsx
- app/(marketing)/components/GeometricShapes.tsx
- app/api/rss/route.ts
- app/api/merch/route.ts
- app/api/events/route.ts
- app/api/cron/rss-sync/route.ts
- components/ui/button.tsx
- components/ui/card.tsx
- components/ui/badge.tsx
- lib/config.ts
- lib/utils.ts
- lib/hooks/useReducedMotion.ts
- lib/rss/mockFeed.ts
- lib/merch/placeholder.ts
- lib/events/placeholder.ts
- tests/setup.ts
- tests/components/HeroSection.test.tsx
- tests/e2e/smoke.spec.ts

## QA Results
